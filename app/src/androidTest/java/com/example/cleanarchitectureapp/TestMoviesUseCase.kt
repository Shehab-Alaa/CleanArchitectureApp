package com.example.cleanarchitectureapp

import android.content.Context
import com.example.cleanarchitectureapp.utils.TestUtil.getDummyMoviesData
import com.example.cleanarchitectureapp.utils.TestUtil.resourceStatus
import com.example.domain.model.Movie
import com.example.domain.repository.IMoviesRepository
import com.example.domain.usecase.Resource
import com.example.domain.usecase.Status
import com.example.domain.usecase.movie.GetMoviesUseCase

class TestMoviesUseCase(
    private val app: Context,
    moviesRepository: IMoviesRepository
) : GetMoviesUseCase(moviesRepository) {

    override suspend fun executeAsync(param: Map<String, Any>?): Resource<List<Movie>> {
        return when(resourceStatus.status){
            Status.SUCCESS -> Resource.success(getDummyMoviesData(app))
            Status.EMPTY -> Resource.empty()
            Status.ERROR -> Resource.error(app.getString(R.string.network_error))
            Status.LOADING -> Resource.loading()
        }
    }
}